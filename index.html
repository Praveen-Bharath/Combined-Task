<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Scroll Spy</title>
      <link rel="Stylesheet" href="./main.css">
      <link rel="icon" href="./Image/icon.png" >
   </head>
   <body>
      <header>
         <nav>
            <a class="active" href="#home">Home</a>
            <a href="#mobiles">Mobiles</a>
            <a href="#electronics">Electronics</a>
            <a href="#fashion">Fashion</a>
            <a href="#furniture">Furniture</a>
            <a href="#picture">File Upload</a>
         </nav>
      </header>
      <section id="home">Home</section>
      <section id="mobiles">Mobiles</section>
      <section id="electronics">Electronics</section>
      <section id="fashion">Fashion</section>
      <section id="furniture">Furniture</section>
      <section id="picture">
         <input type="file" id="realfile" accept="image/png, image/jpg, image/jpeg">
         <div id="displayimage"></div>
      </section>
      <div id="overlay" >
         <div id="text">Welcome All</div>
         <span id="overlay1" onclick="closed()">&#215</span>
      </div>
      <script>
         window.onload = function open() {
         document.getElementById("overlay").style.display = "block";
         }
         
         function closed() {
         document.getElementById("overlay").style.display = "none";
         }
         let section = document.querySelectorAll('section');
         let navLinks = document.querySelectorAll('header nav a')
         window.onscroll =() =>{
            section.forEach(sec=>{
                let top = window.scrollY;
                let offset = sec.offsetTop - 100;
                let height = sec.offsetHeight;
                let id = sec.getAttribute('id'); 
                if(top >= offset && top < offset + height){
                    navLinks.forEach(links =>{
                        links.classList.remove('active');
                        document.querySelector('header nav a[href*=' + id +']').classList.add('active');
                    })
                }
                            })
         }
         const realfile=document.querySelector("#realfile");
         var upload_image = "";
         realfile.addEventListener('change', function(){
         const img_reader= new FileReader();
         img_reader.addEventListener("load",() => {
         upload_image=img_reader.result;
         document.querySelector("#displayimage").style.backgroundImage = `url(${upload_image})`;
         });
         img_reader.readAsDataURL(this.files[0]);
         })
         
      </script>
   </body>
</html>

